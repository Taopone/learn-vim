<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh" xml:lang="zh">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="learn-vi.css" />
	<title>VIM学习笔记 设置选项(set-option)</title>
</head>
<body>
	<h1>VIM学习笔记 设置选项(set-option)</h1>


	<h2 class="article"><a id="">Window Sizing Options</a></h2>
	<p>'winheight'和'winwidth'选项，用于分别控制窗口的最小高度和宽度。</p>
	<p>默认打开的'equalalways'选项，用于在拆分和关闭窗口的过程中，始终保持窗口均分以维持整洁的窗口布局。</p>
	<p>'eadirection'选项，默认值为&ldquo;both&rdquo;，说明'equalalways'窗口均分选项适用于垂直和水平分隔窗口。如果只希望针对垂直均分窗口，那么可以设置为<code class="inset">:set ead=hor</code>；如果只希望针对垂直均分窗口，那么可以设置为<code class="inset">:set ead=ver</code>。</p> 

	<h2 class="article"><a id="">键盘选项</a></h2>
	<p>使用'winaltkeys'选项，可以控制Alt键的使用。</p>

例如,如果我们执行了下面的命令,所有的Alt键就可以通过:map命令来使用之成我们命令中的一部分:
:set winaltkeys=no
执行Alt-F并不会选择文件菜单而是执行映射的Alt-F命令.这个可以映射可以是下面的样子:
:map <M-f> :write
在这里我们要知道的就是在Vim中Alt会被叫作M-,Meta的意思.
如果我们执行了下面的命令,所有的Alt键盘就会选择菜单内容而不会执行映射命令了:
:set winaltkeys=yes
第三个选项是yes和no的组合:
:set winaltkeys=menu
在这种模式下,Alt键可以用于选择菜单,也可以用来映射:map命令.所以Alt-F可以选择文件菜单,而我们还可以用Alt-X来映射命令.

下面的命令定义了可以由CTRL-A,CTRL-X识别的数字格式.
:set nrformats=octal,hex
(注:十进制总是可以识别)
如果我们设置了下面的选项,Vim就会试着重新装入终端屏幕的内容.
:set restorescreen
换句话说,他会试着使得我们运行这个程序以后的屏幕看起来就像他运行以前的一样.
set hidden " you can change buffers without saving
set fileformats=unix,dos,mac " support all three, in this order

	<p>'backspace'选项，用于控制在插入模式下退格键何时可以删除光标之前的字符。建议在vimrc文件中，设置如下：</p>
	<p style="text-indent:2em"><code class="inset">set backspace=indent,eol,start</code></p>
	<p>其中，以逗号分隔的三项内容分别指定了可以可以删除自动缩进的空格或制表符，断行，以及进入插入模式时的位置。</p>



我们也可以用下面的命令来设置预览窗口的大小:
:set previewheight={height}

但是如何来处理其他键的顺序呢?我们可以通过下面的两个选项来控制区:
:set timeout
:set ttimeout
下面的是这些设置的作用:
timeout        ttimeout    结果
notimeout    nottimeout    没有超时
timeout        N/A        所有的代码键(<F1>...)以及:map宏超时.
notimeout    ttimeout    只有代码键超时

:set ttimeout=500
这两个选项是告诉Vim在Esc按下后等待1/2秒来决定我们是否还会输入功能键或是等待1秒来决定是否还有其他的键盘映射输入.

	<p><i>timeoutlen</i>选项，即等待后续按键输入的时间，单位为毫秒（millisecond），默认值为1000毫秒，即1秒。如果希望设置键盘等待时间，可以使用以下命令：</p>
	<p style="text-indent:2em"><code class="inset">set timeoutlen=500</code></p>

	<p>使用'colorcolumn'选项，可以在指定列显示垂直标尺，以用于文本对齐：</p>
	<p style="text-indent:2em"><code class="inset">:set colorcolumn=80</code></p>
	<p>通过'ColorColumn'高亮组，可以设置标尺列的颜色：</p>
	<p style="text-indent:2em"><code class="inset">:highlight ColorColumn ctermbg=red guibg=darkred</code></p>
	<p><a href="https://yyq123.github.io/learn-vim/images/set_ColorColumn.png" title="set_ColorColumn"><img src="https://yyq123.github.io/learn-vim/images/set_ColorColumn.png" alt="set_ColorColumn" width="550" height="145" /></a></p>
	<p>'colorcolumn'选项，是以逗号分隔的列表，可以是列的绝对值：</p>
	<p style="text-indent:2em"><code class="inset">:set cc=80,81</code></p>
	<p>如果'colorcolumn'选项中的数值之前带有'+'或'-'，那么是指以'textwidth'选项值为基数，然后加上或减去指定的值。例如以下命令，将高亮显示'textwidth'之后的三列：</p>
	<p style="text-indent:2em"><code class="inset">:set cc=+1,+2,+3</code></p>
	<p>请注意：'textwidth'为零时，无法使用带有'-'和'+'的项目；最多可以高亮显示256列。</p>

	<h2 class="article"><a id="">打印选项</a></h2>
	<p>使用<code class="inset">:hardcopy</code>命令<a href="http://yyq123.github.io/learn-vim/learn-vi-07-Print.html" title="print">打印</a>文件时，将根据<i>printheader</i>选项来定义页眉格式。其默认值为"%&lt;%f%h%m%=Page %N"，将在页眉中显示以下信息：</p>
	<p><a href="https://yyq123.github.io/learn-vim/images/set_printheader_default.png" title="set_printheader_default"><img src="https://yyq123.github.io/learn-vim/images/set_printheader_default.png" alt="set_printheader_default" width="525" height="103" /></a></p>
	<ul>
		<li><i>File name</i>，文件名；</li>
		<li><i>Help buffer flag</i>，如果当前缓冲区打开的是帮助文件，将显示&ldquo;[help]&rdquo;；</li>
		<li><i>Modified flag</i>，如果当前文件已被更改（modified），将显示&ldquo;[+]&rdquo;；如果当前文件不可编辑（nomodifiable），将显示&ldquo;[-]&rdquo;</li>
		<li><i>Page number</i>，页码。</li>
	</ul>
	<p>使用以下命令，可以设置在页眉中打印当前日期和时间：</p>
	<p style="text-indent:2em"><code class="inset">set printheader=%&lt;%f%h%m%40{strftime(\"%I:%M:%S\ \%p,\ %a\ %b\ %d,\ %Y\")}%=Page\ %N</code></p>
	<p>使用以下命令，可以设置在页眉中打印文件最后修改时间：</p>
	<p style="text-indent:2em"><code class="inset">set printheader=%&lt;%f%h%m%40{strftime(\"%c\",getftime(expand(\"%%\")))}%=Page\ %N</code></p>
	<p>使用以下命令，可以设置页眉为空（请注意，命令末尾包括一个空格）：</p>
	<p style="text-indent:2em"><code class="inset">:set printheader=\&nbsp;</code></p>

	<h2 class="article"><a id="">文件选项</a></h2>
	<p>默认情况下，write选项是启用的，以使Vim可以保存文件。如果关闭此选项，那么将无法保存文件并显示报错信息。</p>
	<p style="text-indent:2em"><code class="inset">:set nowrite</code></p>
	<p style="text-indent:2em"><code class="error">E142 File not written: Writing is disabled by 'write' option</code></p>

	<p><a href="https://yyq123.github.io/learn-vim/images/.png" title=""><img src="https://yyq123.github.io/learn-vim/images/.png" alt="" width="500" height="" /></a></p>


	<table summary="Commands" border="1" frame="border" rules="all" cellspacing="0" cellpadding="3">
		<tr><th>命令形式</th><th>描述</th><th>示例</th></tr>
		<tr><td><code class="inset"></code></td><td></td><td><code class="inset"></code></td></tr>
	</table>
	<p>：</p>
	<p><a href="https://yyq123.github.io/learn-vim/images/" title=""><img src="https://yyq123.github.io/learn-vim/images/" alt="" /></a></p>
	<p style="text-indent:2em"><code class="inset"></code></p>
	<p>使用<code class="inset">:help set-option</code>命令，可以查看设置选项的更多帮助信息。</p>

</body>
</html>
