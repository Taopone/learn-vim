<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh" xml:lang="zh">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="learn-vi.css" />
	<title>VIM学习笔记 ()</title>
</head>
<body>
	<h1>VIM学习笔记 ()</h1>

	<h2 class="article"><a id=""></a></h2>
	<p></p>
	<a href="#" title=""></a>

	<p></p>
	<p style="text-indent:2em"><code class="inset"></code></p>

	<p><a href="https://yyq123.github.io/learn-vim/images/.png" title=""><img src="https://yyq123.github.io/learn-vim/images/.png" alt="" width="500" height="" /></a></p>

	<p style="color:gray; font-size:0.6em"><a href="http://yyq123.github.io/learn-vim/images/.png" title=""><img src="http://yyq123.github.io/learn-vim/images/.png" alt="" /></a></br>Source: medium.com/free-code-camp</p>

	<pre class="block">
	</pre>

	<ul>
		<li><p class="item"><br /></p></li>
		<li><p class="item"><a href="#" title=""></a><br /></p></li>
	</ul>

	<span style="font-weight:bold; color:#4169E1; margin-left:0.2em">&#65311;</span>


Escaping special characters with backslashes \ is no trouble if you're only occasionally spicing up your searches and substitutions with regular expressions. If you want to write longer expressions without having to escape every special character, you could switch to the magic mode for that expression.


<p>根据特殊修饰符的不同处理方法，Vim正则表达式可以分为四种模式：magic，no magic，very magic和very nomagic。</p>
<p>不同模式之间的区别在于，有哪些特殊字符需要使用反斜线（\）进行转义。例如星号（*），在magic和very magic模式下视为特殊修饰符；而在no magic和very nomagic模式下则被不同字符，必须使用&ldquo;\*&rdquo;转义为。</p>
<pre class="block">
after:	  \v	   \m	    \M	     \V		matches ~
---------------------------------------------------------------------------------
		|'magic' |'nomagic'
---------------------------------------------------------------------------------
	  $	   $	    $	     \$		matches end-of-line
	  .	   .	    \.	     \.		matches any character
	  *	   *	    \*	     \*		any number of the previous atom
	  ~	   ~	    \~	     \~		latest substitute string
	  ()	   \(\)     \(\)     \(\)	grouping into an atom
	  |	   \|	    \|	     \|		separating alternatives
	  \a	   \a	    \a	     \a		alphabetic character
	  \\	   \\	    \\	     \\		literal backslash
	  \.	   \.	    .	     .		literal dot
	  \{	   {	    {	     {		literal '{'
	  a	   a	    a	     a		literal 'a'
</pre>
Magic

The default mode. Most special characters need to be escaped, but some (such as . or *) don't have to be.

 \m (for example, /\mfoo or :s/\mfoo/bar) to explicitly set magic.

No magic

This mode is similar to magic mode, but every special character needs to be escaped with a backslash, \.

For example, in default magic mode, you'd search for a line containing any text with /^.*$ (here, ^ is for beginning of line, .* searches for every character repeatedly, and $ is for end of line). However, in no magic mode, you'd have to escape each one of those: /\^\.\*\$.

You can explicitly set no magic mode by prefixing your regex strings with \M (for example, /\Mfoo or :s/\Mfoo/bar). 

Very magic

Very magic mode treats every character apart from letters, numbers, and underscores as a special character.

You can set very magic mode for a command by prefixing your regex strings with \v (for example, /\vfoo or :s/\vfoo/bar).

Very magic mode is often used when many special characters are to be used. For instance, we used the following example to replace cat hunting mice with mice hunting cat:

:s/\(cat\) hunting \(mice\)/\2 hunting \1

In very magic mode, this can be rewritten as follows:

:s/\v(cat) hunting (mice)/\2 hunting \1

For example, this pattern is in very magic mode:\vfoo\(bar\)The regex engine is actually a bit more flexible than that, you can also change the mode mid-pattern:\vfoo\(\mbar)These two are the same and will match a string that contains foo(bar). Of course, it’s not really a good idea to shift modes all the time, but it’s useful to be aware of this.

	<table summary="Commands" border="1" frame="border" rules="all" cellspacing="0" cellpadding="3">
		<caption style="margin:0.5em; font-weight:bold">选项列表</caption>
		<tr><th style="white-space: nowrap">选项</th><th>描述</th><th>帮助信息</th></tr>
		<tr><td><code class="inset">!</code></td><td>如果包含，表示。例如，。</td><td style="white-space: nowrap"><code class="inset">:help viminfo-!</code></td></tr>
	</table>

	<table summary="Commands" border="2" frame="hsides" rules="all" cellspacing="0" cellpadding="3">
		<caption>命令小结</caption>
		<tr><td><code class="inset">:</code></td><td rowspan="2"></td></tr>
		<tr><td><code class="inset">:</code></td></tr>
		<tr><td><code class="inset">:</code></td><td></td></tr>
		<tr><td><code class="inset">:</code></td><td></td></tr>
		<tr><td><code class="inset">:</code></td><td></td></tr>
	</table>
&ldquo;&rdquo;

	<p style="border-top:1px solid lightgray"><span style="float:right">Ver: 2.0&nbsp;|&nbsp;<a href="mailto:yyq123@gmail.com">YYQ</a></span><span>&lt;<a title="" href="http://yyq123.github.io/learn-vim/.html">上一篇</a>&nbsp;|<a title="笔记列表" href="http://yyq123.github.com/learn-vim/learn-vi-00-00-TOC.html">&nbsp;目录&nbsp;</a>|&nbsp;<a title="" href="http://yyq123.github.io/learn-vim/.html">下一篇</a>&gt;</span></p>

</body>
</html>
